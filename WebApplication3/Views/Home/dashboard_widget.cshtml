<!-- dashboard_widget.cshtml -->

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> dashboard_widget.cshtml</title>
  <link rel="stylesheet" href="~/Content_Custom/dashboard.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/css/tooltipster.min.css" />
</head>

<div ng-controller="dashboardWidgetController">
  <div class="overlay" ng-class="{ 'visible': isAllDashboardsOpen }" ng-style="{ 'background-color': 'rgba(0, 0, 0, ' + overlayAlpha + ')' }">
    <!-- Top Bar -->
    <header class="top-bar">
      <div class="left" dynamic-tooltip tooltip-content="my main">
        <span>Main</span>
        <!-- Add logo here -->
      </div>
      <div class="center">
        <span>{{ viewTitle }}</span>

      </div>
      <div class="email">
        <button id="sendEmailButton">Send Email</button>
      </div>
      <div class="email">
        <button ng-click="sendEmail()">ng-click Send Email</button>
      </div>
      <div class="right">
        <button ng-click="openAllDashboards()" dynamic-tooltip tooltip-content="Click to open a list of dashboards">
          <img src="~/images/Dashboard_explorer_icon.png" alt="pic of openAlldashboard" />
          <span class="dashboard-open-button"></span>
        </button>
      </div>
    </header>

    <!-- Widget Container -->
    <div class="widget-container">
      <!-- Include the directive conditionally based on whether all dashboards are open -->
      <all-dashboard-widget ng-if="isAllDashboardsOpen">
        <!-- Transcluded content for all-dashboard goes here -->
      </all-dashboard-widget>

      <!-- This will be rendered if isExplorerWidgetOpen is true -->
      <explorer-widget ng-if="isExplorerWidgetOpen"></explorer-widget>

      <!-- This will be rendered if isEzviewWidgetOpen is true -->
      <ezview-widget ng-if="isEzviewWidgetOpen"></ezview-widget>
    </div>
    <!-- Bottom Container -->
    <div class="bottom-container">
      <p>Here is the bottom of dashboard_widget.cshtml, generated by .bottom-container {..} of the dashboard.css</p>
    </div>

  </div>

</div>
@section scripts {
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/js/jquery.tooltipster.min.js"></script>

  @*<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>*@
  <script src="~/Widgets/dashboard_widget.cshtml.js"></script>
  <script src="~/Widgets/AllDashboard/alldashboard.widget.js"></script>
  <script src="~/Widgets/EZView/EZView.Widget.js"></script>
  <script src="~/Widgets/Explorer/Explorer.Widget.js"></script>
}